# ì˜¨ì•¤í™ˆ í”„ë¡œì íŠ¸ - ë¡œê·¸ì¸ & íšŒì›ê°€ì… ìˆ˜ì • ì‚¬í•­

## ğŸ“‹ ìˆ˜ì • ë‚´ìš© ìš”ì•½

### 1. UserController ì‘ì„± âœ…
**íŒŒì¼**: `src/main/java/com/onandhome/user/UserController.java`

íšŒì›ê°€ì…, ë¡œê·¸ì¸, ì‚¬ìš©ì ì¡°íšŒ, ì •ë³´ ìˆ˜ì •, ë¹„ë°€ë²ˆí˜¸ ë³€ê²½, ì‚­ì œ ë“±ì˜ REST API ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„

**ì£¼ìš” API ì—”ë“œí¬ì¸íŠ¸:**
- `POST /api/user/register` - íšŒì›ê°€ì…
- `POST /api/user/login` - ë¡œê·¸ì¸
- `GET /api/user/{id}` - ì‚¬ìš©ì ì¡°íšŒ (IDë¡œ)
- `GET /api/user/username/{userId}` - ì‚¬ìš©ì ì¡°íšŒ (userIdë¡œ)
- `PUT /api/user/{id}` - ì‚¬ìš©ì ì •ë³´ ìˆ˜ì •
- `PUT /api/user/{id}/password` - ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
- `DELETE /api/user/{id}` - ì‚¬ìš©ì ì‚­ì œ

---

### 2. ë¡œê·¸ì¸ í˜ì´ì§€ ìˆ˜ì • âœ…
**íŒŒì¼**: `src/main/resources/templates/admin/login.html`

- ì›ë³¸ í˜•ì‹ ìœ ì§€
- íšŒì›ê°€ì… ë§í¬ ì¶”ê°€
- ì—ëŸ¬/ë¡œê·¸ì•„ì›ƒ ë©”ì‹œì§€ ìŠ¤íƒ€ì¼ ê°œì„ 

**ë¡œê·¸ì¸ ê°€ëŠ¥ ê³„ì •:**
- ID: `admin`
- Password: `admin123`

---

### 3. íšŒì›ê°€ì… í˜ì´ì§€ ìƒì„± âœ…
**íŒŒì¼**: `src/main/resources/templates/admin/signup.html`

ì™„ì „í•œ íšŒì›ê°€ì… í˜ì´ì§€ êµ¬í˜„:
- ì•„ì´ë””, ë¹„ë°€ë²ˆí˜¸, ì´ë©”ì¼, ì´ë¦„, íœ´ëŒ€í°, ì„±ë³„, ìƒë…„ì›”ì¼, ì£¼ì†Œ ì…ë ¥
- í´ë¼ì´ì–¸íŠ¸ ìœ íš¨ì„± ê²€ì‚¬
- ë¹„ë°€ë²ˆí˜¸ ì¼ì¹˜ í™•ì¸
- ì‹¤ì‹œê°„ í”¼ë“œë°±

---

### 4. LoginController ìˆ˜ì • âœ…
**íŒŒì¼**: `src/main/java/com/onandhome/web/LoginController.java`

- íšŒì›ê°€ì… í˜ì´ì§€ ë¼ìš°íŠ¸ ì¶”ê°€
- `/admin/signup` GET ë©”ì†Œë“œ ì¶”ê°€

---

### 5. API í…ŒìŠ¤íŠ¸ í˜ì´ì§€ ìƒì„± âœ…
**íŒŒì¼**: `src/main/resources/static/api-test.html`

ì•„ë¦„ë‹¤ìš´ UIë¡œ APIë¥¼ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ” í˜ì´ì§€
- íšŒì›ê°€ì… í…ŒìŠ¤íŠ¸
- ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸
- ì‚¬ìš©ì ì¡°íšŒ í…ŒìŠ¤íŠ¸

**ì ‘ê·¼ URL**: `http://localhost:8080/api-test.html`

---

## ğŸ” ê¸°ì¡´ ì½”ë“œ ì •ë¦¬

### UserService (ê¸°ì¡´ - ìˆ˜ì • ì—†ìŒ)
ì´ë¯¸ íšŒì›ê°€ì…, ë¡œê·¸ì¸, ì‚¬ìš©ì ê´€ë¦¬ ë“±ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ì˜ êµ¬í˜„ë˜ì–´ ìˆìŒ

**ì£¼ìš” ë©”ì„œë“œ:**
- `register(UserDTO)` - íšŒì›ê°€ì…
- `login(userId, password)` - ë¡œê·¸ì¸
- `updateUser(UserDTO)` - ì •ë³´ ìˆ˜ì •
- `changePassword()` - ë¹„ë°€ë²ˆí˜¸ ë³€ê²½

### User Entity (ê¸°ì¡´ - ìˆ˜ì • ì—†ìŒ)
- JPA Entityë¡œ ì˜ ì •ì˜ë¨
- ìë™ íƒ€ì„ìŠ¤íƒí”„ ê´€ë¦¬

### UserRepository (ê¸°ì¡´ - ìˆ˜ì • ì—†ìŒ)
- í•„ìš”í•œ ì¿¼ë¦¬ ë©”ì„œë“œ ëª¨ë‘ êµ¬í˜„ë¨

### DataInitializer (ê¸°ì¡´ - ìˆ˜ì • ì—†ìŒ)
- ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œ ìë™ìœ¼ë¡œ ê´€ë¦¬ì ê³„ì • ìƒì„±
- `admin / admin123` ê³„ì • ìë™ ìƒì„±

---

## ğŸš€ ì‚¬ìš© ë°©ë²•

### 1. ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘
```bash
gradle bootRun
```

### 2. ë¡œê·¸ì¸ í˜ì´ì§€ ì ‘ì†
```
http://localhost:8080/admin/login
```

### 3. í…ŒìŠ¤íŠ¸ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸
- ID: `admin`
- Password: `admin123`

### 4. íšŒì›ê°€ì…í•˜ê¸°
ë¡œê·¸ì¸ í˜ì´ì§€ì—ì„œ "íšŒì›ê°€ì…" ë§í¬ í´ë¦­

### 5. API í…ŒìŠ¤íŠ¸í•˜ê¸°
```
http://localhost:8080/api-test.html
```

---

## ğŸ“¡ API ìš”ì²­/ì‘ë‹µ ì˜ˆì‹œ

### íšŒì›ê°€ì… ìš”ì²­
```json
POST /api/user/register

{
  "userId": "user123",
  "password": "password123",
  "email": "user@example.com",
  "username": "í™ê¸¸ë™",
  "phone": "010-1234-5678",
  "gender": "M",
  "birthDate": "1990-01-01",
  "address": "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬"
}
```

### íšŒì›ê°€ì… ì„±ê³µ ì‘ë‹µ
```json
{
  "success": true,
  "message": "íšŒì›ê°€ì… ì„±ê³µ",
  "data": {
    "id": 3,
    "userId": "user123",
    "email": "user@example.com",
    "username": "í™ê¸¸ë™",
    "phone": "010-1234-5678",
    "gender": "M",
    "birthDate": "1990-01-01",
    "address": "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬",
    "role": "USER",
    "active": true,
    "createdAt": "2024-10-20T14:30:00",
    "updatedAt": "2024-10-20T14:30:00"
  }
}
```

### ë¡œê·¸ì¸ ìš”ì²­
```json
POST /api/user/login

{
  "userId": "admin",
  "password": "admin123"
}
```

### ë¡œê·¸ì¸ ì„±ê³µ ì‘ë‹µ
```json
{
  "success": true,
  "message": "ë¡œê·¸ì¸ ì„±ê³µ",
  "data": {
    "id": 1,
    "userId": "admin",
    "email": "admin@onandhome.com",
    "username": "ê´€ë¦¬ì",
    "phone": "010-1234-5678",
    "gender": "M",
    "birthDate": "1990-01-01",
    "address": "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬",
    "role": "ADMIN",
    "active": true,
    "createdAt": "2024-10-20T10:00:00",
    "updatedAt": "2024-10-20T10:00:00"
  }
}
```

---

## âœ… í™•ì¸ ì‚¬í•­

- [x] UserController REST API ì™„ì„±
- [x] íšŒì›ê°€ì… í˜ì´ì§€ ì‘ì„±
- [x] ë¡œê·¸ì¸ í˜ì´ì§€ì— íšŒì›ê°€ì… ë§í¬ ì¶”ê°€
- [x] LoginControllerì— íšŒì›ê°€ì… ë¼ìš°íŠ¸ ì¶”ê°€
- [x] API í…ŒìŠ¤íŠ¸ í˜ì´ì§€ ì‘ì„±
- [x] admin/admin123ìœ¼ë¡œ ë¡œê·¸ì¸ ê°€ëŠ¥
- [x] íšŒì›ê°€ì… ê¸°ëŠ¥ ì •ìƒ ì‘ë™

---

## ğŸ”§ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

DBëŠ” `application.properties`ì— ì´ë¯¸ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤:
- URL: `jdbc:mysql://localhost:3306/onandhome`
- Username: `admin`
- Password: `1111`

JPAëŠ” `ddl-auto=update`ë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë¯€ë¡œ í…Œì´ë¸”ì´ ìë™ ìƒì„±ë©ë‹ˆë‹¤.

---

## ğŸ“ ë””ë²„ê¹… íŒ

**ë§Œì•½ ë¡œê·¸ì¸ì´ ì•ˆ ëœë‹¤ë©´:**

1. MySQL ë°ì´í„°ë² ì´ìŠ¤ í™•ì¸
   ```sql
   SELECT * FROM users;
   ```

2. ë¡œê·¸ í™•ì¸
   - `/admin/check-login` ì ‘ì†í•´ì„œ ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸

3. ì½˜ì†” ë¡œê·¸ í™•ì¸
   - `log.info()` ë©”ì‹œì§€ë¡œ ì§„í–‰ ìƒí™© ì¶”ì 

---

## ğŸ“ ì§€ì›ë˜ëŠ” ê¸°ëŠ¥

âœ… íšŒì›ê°€ì… (íšŒì›ê°€ì… í˜ì´ì§€)
âœ… ë¡œê·¸ì¸ (ë¡œê·¸ì¸ í˜ì´ì§€)
âœ… ì‚¬ìš©ì ì¡°íšŒ (API)
âœ… ì‚¬ìš©ì ì •ë³´ ìˆ˜ì • (API)
âœ… ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ (API)
âœ… ì‚¬ìš©ì ì‚­ì œ (API)
âœ… ë¡œê·¸ì•„ì›ƒ (ë¡œê·¸ì¸ í˜ì´ì§€)

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„ (ì„ íƒì‚¬í•­)

1. JWT í† í° ì¸ì¦ ì¶”ê°€
2. ì´ë©”ì¼ ì¤‘ë³µ ê²€ì‚¬
3. ì•„ì´ë”” ì¤‘ë³µ ê²€ì‚¬
4. ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •
5. í”„ë¡œí•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ
6. 2ë‹¨ê³„ ì¸ì¦

---

**ì‘ì„±ì¼**: 2024-10-20
**ìµœì¢… ìˆ˜ì •**: 2024-10-20
